'use strict';var $=jQuery.noConflict();$.extend($.easing,{def:'easeOutQuad',swing:function(x,t,b,c,d){return $.easing[$.easing.def](x,t,b,c,d);},easeOutQuad:function(x,t,b,c,d){return-c*(t/=d)*(t-2)+b;},easeOutQuint:function(x,t,b,c,d){return c*((t=t/d-1)*t*t*t*t+1)+b;}});window.Trabna={};(function($){Trabna.$window=$(window);Trabna.$body=$(document.body);Trabna.status='';Trabna.isIE=navigator.userAgent.indexOf('Trident')>=0;Trabna.isEdge=navigator.userAgent.indexOf('Edge')>=0;Trabna.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);Trabna.call=function(fn,delay){setTimeout(fn,delay);}
Trabna.parseOptions=function(options){return'string'==typeof options?JSON.parse(options.replace(/'/g,'"').replace(';','')):{};}
Trabna.parseTemplate=function(template,vars){return template.replace(/\{\{(\w+)\}\}/g,function(){return vars[arguments[1]];});}
Trabna.byId=function(id){return document.getElementById(id);}
Trabna.byTag=function(tagName,element){return element?element.getElementsByTagName(tagName):document.getElementsByTagName(tagName);}
Trabna.byClass=function(className,element){return element?element.getElementsByClassName(className):document.getElementsByClassName(className);}
Trabna.setCookie=function(name,value,exdays){var date=new Date();date.setTime(date.getTime()+(exdays*24*60*60*1000));document.cookie=name+"="+value+";expires="+date.toUTCString()+";path=/";}
Trabna.getCookie=function(name){var n=name+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;++i){var c=ca[i];while(c.charAt(0)==' '){c=c.substring(1);}
if(c.indexOf(n)==0){return c.substring(n.length,c.length);}}
return"";}
Trabna.$=function(selector){if(selector instanceof jQuery){return selector;}
return $(selector);}
Trabna.isOnScreen=function(el){var a=window.pageXOffset,b=window.pageYOffset,o=el.getBoundingClientRect(),x=o.left+a,y=o.top+b;return y+o.height>=b&&y<=b+window.innerHeight&&x+o.width>=a&&x<=a+window.innerWidth;}
Trabna.appear=function(el,fn,intObsOptions){var interSectionObserverOptions={rootMargin:'0px 0px 200px 0px',threshold:0,alwaysObserve:true};if(intObsOptions&&Object.keys(intObsOptions).length){$.extend(intersectionObserverOptions,intObsOptions);}
var observer=new IntersectionObserver(function(entries){for(var i=0;i<entries.length;i++){var entry=entries[i];if(entry.intersectionRatio>0){if(typeof fn==='string'){var func=Function('return '+functionName)();}else{var callback=fn;callback.call($(entry.target));}}}},interSectionObserverOptions);observer.observe(el);return this;}
Trabna.requestTimeout=function(fn,delay){var handler=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;if(!handler){return setTimeout(fn,delay);}
var start,rt=new Object();function loop(timestamp){if(!start){start=timestamp;}
var progress=timestamp-start;progress>=delay?fn():rt.val=handler(loop);};rt.val=handler(loop);return rt;}
Trabna.requestInterval=function(fn,step,timeOut){var handler=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;if(!handler){if(!timeOut){console.log('settimeout');return setTimeout(fn,timeOut);}
else{console.log('settimeout');return setInterval(fn,step);}}
var start,last,rt=new Object();function loop(timestamp){if(!start){start=last=timestamp;}
var progress=timestamp-start;var delta=timestamp-last;if(!timeOut||progress<timeOut){if(delta>step){fn();rt.val=handler(loop);last=timestamp;}else{rt.val=handler(loop);}}else{fn();}};rt.val=handler(loop);console.log(rt);return rt;}
Trabna.deleteTimeout=function(timerId){if(!timerId){return;}
var handler=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame;if(!handler){return clearTimeout(timerId);}
if(timerId.val){return handler(timerId.val);}}
Trabna.setTab=function(selector){function _activeTab(e){var $this=$(this);e.preventDefault();if(!$this.hasClass("active")){var $panel=$($this.attr('href'));$panel.siblings('.active').removeClass('in active');$panel.addClass('active in');$this.parent().parent().find('.active').removeClass('active');$this.addClass('active');}}
function _linkToTab(e){var selector=$(e.currentTarget).attr('href'),$tab=$(selector),$nav=$tab.parent().siblings('.nav');e.preventDefault();$tab.siblings().removeClass('active in');$tab.addClass('active in');$nav.find('.nav-link').removeClass('active');$nav.find('[href="'+selector+'"]').addClass('active');$('html').animate({scrollTop:$tab.offset().top-150});}
Trabna.$body.on('click','.tab .nav-link',_activeTab).on('click','.link-to-tab',_linkToTab);}
Trabna.initCartAction=function(selector){Trabna.$body.on('click',selector,function(e){$('.cart-dropdown').addClass('opened');$('body').addClass('hidescroll');e.preventDefault();}).on('click','.cart-offcanvas .cart-overlay',function(e){$('.cart-dropdown').removeClass('opened');$('body').removeClass('hidescroll');e.preventDefault();}).on('click','.cart-offcanvas .cart-header, .cart-close',function(e){$('.cart-dropdown').removeClass('opened');$('body').removeClass('hidescroll');e.preventDefault();})}
Trabna.initScrollTopButton=function(){var domScrollTop=Trabna.byId('scroll-top');domScrollTop.addEventListener('click',function(e){$('html, body').animate({scrollTop:0},600);e.preventDefault();});var refreshScrollTop=function(){if(window.pageYOffset>400){domScrollTop.classList.add('show');var d_height=$(document).height(),w_height=$(window).height(),c_scroll_pos=$(window).scrollTop();var perc=c_scroll_pos/(d_height-w_height)*214;if($('#progress-indicator').length>0){$('#progress-indicator').css('stroke-dasharray',perc+', 400');}}else{domScrollTop.classList.remove('show');}}
Trabna.call(refreshScrollTop,500);window.addEventListener('scroll',refreshScrollTop,{passive:true});}
Trabna.stickyDefaultOptions={minWidth:992,maxWidth:20000,top:false,hide:false,scrollMode:true}
Trabna.stickyToolboxOptions={minWidth:0,maxWidth:767,top:false,scrollMode:true}
Trabna.stickyProductOptions={minWidth:0,maxWidth:20000,scrollMode:true,top:false,hide:false}
Trabna.windowResized=function(timeStamp){if(timeStamp==Trabna.resizeTimeStamp){return Trabna.resizeChanged;}
if(typeof window.innerHeight=='undefined'){window.innerWidth=$(window).width()+Trabna.getScrollbarWidth();}
Trabna.resizeChanged=Trabna.canvasWidth!=window.innerWidth;Trabna.canvasWidth=window.innerWidth;Trabna.resizeTimeStamp=timeStamp;return Trabna.resizeChanged;}
Trabna.getScrollbarWidth=function(){if(typeof Trabna.scrollbarSize=='undefined'){var scrollDiv=document.createElement("div");scrollDiv.style.cssText='width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;';document.body.appendChild(scrollDiv);Trabna.scrollbarSize=scrollDiv.offsetWidth-scrollDiv.clientWidth;document.body.removeChild(scrollDiv);}
return Trabna.scrollbarSize;}
Trabna.stickyContent=(function(){function StickyContent($el,options){return this.init($el,options);}
function refreshAll(){Trabna.$window.trigger('sticky_refresh.Trabna',{index:0,offsetTop:0});}
function refreshAllSize(e){if(!e||Trabna.windowResized(e.timeStamp)){Trabna.$window.trigger('sticky_refresh_size.Trabna');refreshAll();}}
StickyContent.prototype.init=function($el,options){this.$el=$el;this.options=$.extend(true,{},Trabna.stickyDefaultOptions,options,Trabna.parseOptions($el.attr('data-sticky-options')));Trabna.$window.on('sticky_refresh.Trabna',this.refresh.bind(this)).on('sticky_refresh_size.Trabna',this.refreshSize.bind(this));}
StickyContent.prototype.refreshSize=function(e){var beWrap=window.innerWidth>=this.options.minWidth&&window.innerWidth<=this.options.maxWidth;this.scrollPos=window.pageYOffset;if(typeof this.top=='undefined'){this.top=this.options.top;}
if(window.innerWidth>=768&&this.getTop){this.top=this.getTop();}else if(!this.options.top){this.top=this.isWrap?this.$el.parent().offset().top:this.$el.offset().top+this.$el[0].offsetHeight;if(this.$el.hasClass('has-dropdown')){var $box=this.$el.find('.category-dropdown .dropdown-box');if($box.length){this.top+=$box[0].offsetHeight;}}}
if(!this.isWrap){beWrap&&this.wrap();}else{beWrap||this.unwrap();}
Trabna.sticky_top_height=0;e&&setTimeout(this.refreshSize.bind(this),50);}
StickyContent.prototype.wrap=function(){this.$el.wrap('<div class="sticky-content-wrapper"></div>');this.isWrap=true;}
StickyContent.prototype.unwrap=function(){this.$el.unwrap('.sticky-content-wrapper');this.isWrap=false;}
StickyContent.prototype.refresh=function(e,data){var pageYOffset=window.pageYOffset+data.offsetTop;var $el=this.$el;if(pageYOffset>this.top&&this.isWrap){this.height=$el[0].offsetHeight;$el.hasClass('fixed')||$el.parent().css('height',this.height+'px');if($el.hasClass('fix-top')){$el.css('margin-top',data.offsetTop+'px');this.zIndex=this.options.max_index-data.index;}else if($el.hasClass('fix-bottom')){$el.css('margin-bottom',data.offsetBottom+'px');this.zIndex=this.options.max_index-data.index;}else{$el.css({'transition':'opacity .5s','z-index':this.zIndex});}
if(this.options.scrollMode){if(this.scrollPos>=pageYOffset&&$el.hasClass('fix-top')||this.scrollPos<=pageYOffset&&$el.hasClass('fix-bottom')){$el.addClass('fixed');this.onFixed&&this.onFixed();$el.hasClass('product-sticky-content')&&Trabna.$body.addClass('addtocart-fixed');}else{$el.removeClass('fixed').css('margin-top','').css('margin-bottom','');this.onUnfixed&&this.onUnfixed();$el.hasClass('product-sticky-content')&&Trabna.$body.removeClass('addtocart-fixed');}
this.scrollPos=pageYOffset;}else{$el.addClass('fixed');this.onFixed&&this.onFixed();}
if($el.is('.fixed.fix-top')){data.offsetTop+=$el[0].offsetHeight;Trabna.sticky_top_height=data.offsetTop;}else if($el.is('.fixed.fix-bottom')){data.offsetBottom+=$el[0].offsetHeight;}}else{$el.parent().css('height','');$el.removeClass('fixed').css({'margin-top':'','margin-bottom':'','z-index':''});this.onUnfixed&&this.onUnfixed();$el.hasClass('product-sticky-content')&&Trabna.$body.removeClass('addtocart-fixed');}}
Trabna.$window.on('Trabna_complete',function(){window.addEventListener('scroll',refreshAll,{passive:true});Trabna.$window.on('resize',refreshAllSize);setTimeout(function(){refreshAllSize();},300);})
return function(selector,options){Trabna.$(selector).each(function(){var $this=$(this);$this.data('sticky-content')||$this.data('sticky-content',new StickyContent($this,options));})}})()
Trabna.parallax=function(selector,options){if($.fn.themePluginParallax){Trabna.$(selector).each(function(){var $this=$(this);$this.themePluginParallax($.extend(true,Trabna.parseOptions($this.attr('data-parallax-options')),options));});}}
Trabna.skrollrParallax=function(){if(Trabna.isMobile){return;}
if(typeof skrollr=='undefined'){return;}
if(Trabna.$('.skrollable').length){skrollr.init({forceHeight:false});}}
Trabna.initFloatingParallax=function(){if($.fn.parallax){Trabna.$('.floating-item').each(function(e){var $this=$(this);if($this.data('parallax')){$this.parallax('disable');$this.removeData('parallax');$this.removeData('options');}
$this.children().addClass('layer').attr('data-depth',$this.attr('data-child-depth'));$this.parallax(Trabna.parseOptions($this.data('options')));});}}
Trabna.isotopeOptions={itemsSelector:'.grid-item',layoutMode:'masonry',percentPosition:true,masonry:{columnWidth:'.grid-space'}}
Trabna.isotopes=function(selector,options){if(typeof imagesLoaded==='function'&&$.fn.isotope){var self=this;Trabna.$(selector).each(function(){var $this=$(this),settings=$.extend(true,{},self.isotopeOptions,Trabna.parseOptions($this.attr('data-grid-options')),options?options:{});Trabna.lazyLoad($this);$this.imagesLoaded(function(){settings.customInitHeight&&$this.height($this.height());settings.customDelay&&Trabna.call(function(){$this.isotope(settings);},parseInt(settings.customDelay));$this.isotope(settings);});});}}
Trabna.initNavFilter=function(selector){if($.fn.isotope){Trabna.$(selector).on('click',function(e){var $this=$(this),filterValue=$this.attr('data-filter'),filterTarget=$this.parent().parent().attr('data-target');(filterTarget?$(filterTarget):$('.grid')).isotope({filter:filterValue}).isotope('on','arrangeComplete',function(){Trabna.$window.trigger('appear.check');});$this.parent().siblings().children().removeClass('active');$this.addClass('active');e.preventDefault();})}}
Trabna.ratingTooltip=function(root){var els=Trabna.byClass('ratings-full',root?root:document.body),len=els.length;var ratingHandler=function(){var res=parseInt(this.firstElementChild.style.width.slice(0,-1))/20;this.lastElementChild.innerText=res?res.toFixed(2):res;}
for(var i=0;i<len;++i){els[i].addEventListener('mouseover',ratingHandler);els[i].addEventListener('touchstart',ratingHandler,{passive:true});}}
Trabna.setProgressBar=function(selector){Trabna.$(selector).each(function(){var $this=$(this),sales_count=$this.parent().find('mark')[0].innerHTML,percent='';if(-1!=sales_count.indexOf('%')){percent=sales_count;}else if(-1!=sales_count.indexOf('/')){percent=parseInt(sales_count.split('/')[0])/parseInt(sales_count.split('/')[1])*100;percent=percent.toFixed(2).toString()+'%';}
$this.find('span').css('width',percent);});}
Trabna.alert=function(selector){Trabna.$body.on('click',selector+' .btn-close',function(e){e.preventDefault();$(this).closest(selector).fadeOut(function(){$(this).remove();});});}
Trabna.closeTopNotice=function(selector){Trabna.$body.on('click',selector,function(e){e.preventDefault();$('.top-banner').slideUp();});}
Trabna.accordion=function(selector){Trabna.$body.on('click',selector,function(e){var $this=$(this),$body=$this.closest('.card').find($this.attr('href')),$parent=$this.closest('.accordion');e.preventDefault();if(0===$parent.find(".collapsing").length&&0===$parent.find(".expanding").length){if($body.hasClass('expanded')){if(!$parent.hasClass('radio-type'))
toggleSlide($body);}else if($body.hasClass('collapsed')){if($parent.find('.expanded').length>0){if(Trabna.isIE){toggleSlide($parent.find('.expanded'),function(){toggleSlide($body);});}else{toggleSlide($parent.find('.expanded'));toggleSlide($body);}}else{toggleSlide($body);}}}});var toggleSlide=function($wrap,cb){var $header=$wrap.closest('.card').find(selector);if($wrap.hasClass('expanded')){$header.removeClass('collapse').addClass('expand');$wrap.addClass('collapsing').slideUp(300,function(){$wrap.removeClass('expanded collapsing').addClass('collapsed');cb&&cb();});}else if($wrap.hasClass("collapsed")){$header.removeClass("expand").addClass("collapse");$wrap.addClass("expanding").slideDown(300,function(){$wrap.removeClass("collapsed expanding").addClass("expanded");cb&&cb();});}};}
Trabna.animationOptions={name:'fadeIn',duration:'1.2s',delay:'.2s'}
Trabna.appearAnimate=function(selector){Trabna.$(selector).each(function(){var el=this;Trabna.appear(el,function(){if(el.classList.contains('appear-animate')){var settings=$.extend({},Trabna.animationOptions,Trabna.parseOptions(el.getAttribute('data-animation-options')));setTimeout(function(){el.style['animation-duration']=settings.duration;el.classList.add(settings.name);el.classList.add('appear-animation-visible');},settings.delay?Number(settings.delay.slice(0,-1))*1000:0);}});});}
Trabna.priceSlider=function(selector,option){if(typeof noUiSlider==='object'){Trabna.$(selector).each(function(){var self=this;noUiSlider.create(self,$.extend(true,{start:[0,400],connect:true,step:1,range:{min:0,max:635}},option));self.noUiSlider.on('update',function(values,handle){var values=values.map(function(value){return'$'+parseInt(value);});$(self).parent().find('.filter-price-range').text(values.join(' - '));});});}}
Trabna.stickySidebarOptions={autoInit:true,minWidth:991,containerSelector:'.sticky-sidebar-wrapper',autoFit:true,activeClass:'sticky-sidebar-fixed',top:0,bottom:0};Trabna.stickySidebar=function(selector){if($.fn.themeSticky){var top=0;if(!$('.sticky-sidebar > .filter-actions').length&&$(window).width()>=992){$('.sticky-content.fix-top').each(function(e){if(!$(this).hasClass('sticky-toolbox')){var $fixed=$(this).hasClass('fixed');top+=$(this).addClass('fixed').outerHeight();$fixed||$(this).removeClass('fixed');}});}
console.log("sticky")
Trabna.$(selector).each(function(){var $this=$(this);$this.themeSticky($.extend({},Trabna.stickySidebarOptions,{padding:{top:top}},Trabna.parseOptions($this.attr('data-sticky-options'))));});function recalcSticky(){Trabna.$(selector).trigger('recalc.pin');$(window).trigger('appear.check');}
setTimeout(recalcSticky,300);Trabna.$window.on('click','.tab .nav-link',function(){setTimeout(recalcSticky);});}}
Trabna.zoomImageOptions={responsive:true,borderSize:0,zoomType:'inner',onZoomIn:true,magnify:1.1,};Trabna.zoomImageObjects=[];Trabna.zoomImage=function($el){if($.fn.zoom&&$el){(('string'===typeof $el)?$($el):$el).find('img').each(function(){var $this=$(this);Trabna.zoomImageOptions.target=$this.parent();Trabna.zoomImageOptions.url=$this.attr('data-zoom-image');$this.zoom(Trabna.zoomImageOptions);Trabna.zoomImageObjects.push($this);});}}
Trabna.zoomImageOnResize=function(){Trabna.zoomImageObjects.forEach(function($img){$img.each(function(){var zoom=$(this).data('zoom');zoom&&zoom.refresh();})});}
Trabna.lazyLoad=function(selector,force){function load(){this.setAttribute('src',this.getAttribute('data-src'));this.addEventListener('load',function(){this.style['padding-top']='';this.classList.remove('lazy-img');});}
Trabna.$(selector).find('.lazy-img').each(function(){if('undefined'!=typeof force&&force){load.call(this);}else{Trabna.appear(this,load);}});}
Trabna.initPopup=function(options,preset){if(Trabna.$body.hasClass('home')&&Trabna.getCookie('hideNewsletterPopup')!=='true'){setTimeout(function(){Trabna.popup({items:{src:".newsletter-popup"},type:'inline',tLoading:'',mainClass:'mfp-newsletter mfp-fadein-popup',callbacks:{beforeClose:function(){$('#hide-newsletter-popup')[0].checked&&Trabna.setCookie('hideNewsletterPopup',true,7);}},});},7500);}}
Trabna.initNotificationAlert=function(){if(Trabna.$body.hasClass('has-notification')){setTimeout(function(){Trabna.$body.addClass('show-notification');},5000);}}
Trabna.countTo=function(selector){if($.fn.countTo){Trabna.$(selector).each(function(){Trabna.appear(this,function(){var $this=$(this);setTimeout(function(){$this.countTo({onComplete:function(){$this.addClass('complete');}})},300);})});}}
Trabna.minipopupOption={productClass:'',imageSrc:'',imageLink:'#',name:'',nameLink:'#',message:'',actionTemplate:'',isPurchased:false,delay:4000,space:20,template:'<div class="minipopup-box">'+'<div class="product product-list-sm {{productClass}}">'+'<figure class="product-media">'+'<a href="{{imageLink}}">'+'<img src="{{imageSrc}}" alt="Product" width="80" height="90" />'+'</a></figure>'+'<div class="product-details">'+'<h4 class="product-name"><a href="{{nameLink}}">{{name}}</a></h4>'+'{{message}}</div></div>'+'<div class="product-action">{{actionTemplate}}</div></div>',}
Trabna.Minipopup=(function(){var $area,offset=0,boxes=[],isPaused=false,timers=[],timerId=false,timerInterval=200,timerClock=function(){if(isPaused){return;}
for(var i=0;i<timers.length;++i){(timers[i]-=timerInterval)<=0&&this.close(i--);}}
return{init:function(){var self=this;var area=document.createElement('div');area.className="minipopup-area";Trabna.byClass('page-wrapper')[0].appendChild(area);$area=$(area);this.close=this.close.bind(this);timerClock=timerClock.bind(this);},open:function(options,callback){var self=this,settings=$.extend(true,{},Trabna.minipopupOption,options),$box;$box=$(Trabna.parseTemplate(settings.template,settings));self.space=settings.space;var $img=$box.appendTo($area).css('top',-offset).find("img");$img.length&&$img.on('load',function(){offset+=$box[0].offsetHeight+self.space;$box.addClass('show');if($box.offset().top-window.pageYOffset<0){self.close();$box.css('top',-offset+$box[0].offsetHeight+self.space);}
$box.on('mouseenter',function(){self.pause()}).on('mouseleave',function(){self.resume()}).on('touchstart',function(e){self.pause();e.stopPropagation();}).on('mousedown',function(){$(this).addClass('focus');}).on('mouseup',function(){self.close($(this).index());});Trabna.$body.on('touchstart',function(){self.resume();});boxes.push($box);if(!timers.length){timerId=setInterval(timerClock,timerInterval);}
timers.push(settings.delay);callback&&callback($box);});},close:function(indexToClose){var self=this,index=('undefined'===typeof indexToClose)?0:indexToClose,$box=boxes.splice(index,1)[0];timers.splice(index,1)[0];var height=$box[0].offsetHeight;offset-=height+self.space;$box.removeClass('show');setTimeout(function(){$box.remove();},300);boxes.forEach(function($box,i){if(i>=index&&$box.hasClass('show')){$box.stop(true,true).animate({top:parseInt($box.css('top'))+height+20},600,'easeOutQuint');}});boxes.length||clearTimeout(timerId);},pause:function(){isPaused=true;},resume:function(){isPaused=false;}}})();Trabna.headerToggleSearch=function(selector){var $search=Trabna.$(selector);Trabna.$body.on('click','.hs-toggle .search-toggle',function(e){e.preventDefault();});if('ontouchstart'in document){$search.find('.search-toggle').on('click',function(e){$search.toggleClass('show');});Trabna.$body.on('click',function(e){$search.removeClass('show');})
$search.on('click',function(e){e.preventDefault();e.stopPropagation();})}else{$search.find('.form-control').on('focusin',function(e){$search.addClass('show');}).on('focusout',function(e){$search.removeClass('show');});}}
Trabna.scrollTo=function(target,duration){var _duration=typeof duration=='undefined'?0:duration;var offset;if(typeof target=='number'){offset=target;}else{var $target=Trabna.$(target);if(!$target.length||$target.css('display')=='none'){return;}
var offset=$target.offset().top;var $wpToolbar=$('#wp-toolbar');window.innerWidth>600&&$wpToolbar.length&&(offset-=$wpToolbar.parent().outerHeight());$('.sticky-content.fix-top.fixed').each(function(){offset-=this.offsetHeight;})}
$('html,body').stop().animate({scrollTop:offset},_duration);}})(jQuery);(function($){var showMobileMenu=function(e){e.preventDefault();Trabna.$body.addClass('mmenu-active');};var hideMobileMenu=function(e){e.preventDefault();Trabna.$body.removeClass('mmenu-active');};var Menu={init:function(){this.initMenu();this.initCategoryMenu();this.initMobileMenu();this.initFilterMenu();this.initCollapsibleWidget();this.initSubmenu();},initMenu:function(){$('.menu li').each(function(){if(this.lastElementChild&&(this.lastElementChild.tagName==='UL'||this.lastElementChild.classList.contains('megamenu'))&&!$(this).parent().hasClass('megamenu')){this.classList.add('has-submenu');!this.lastElementChild.classList.contains('megamenu')&&this.lastElementChild.classList.add('submenu');}});Trabna.$window.on('resize',function(){$('.main-nav megamenu').each(function(){var $this=$(this),left=$this.offset().left,outerWidth=$this.outerWidth(),offset=(left+outerWidth)-(window.innerWidth-20);if(offset>0&&left>20){$this.css('margin-left',-offset);}});});},initCategoryMenu:function(){var $menu=$('.category-dropdown');if($menu.length){var $box=$menu.find('.dropdown-box');if($box.length){var top=$('.main').offset().top+$box[0].offsetHeight;if(window.pageYOffset<=top||window.innerWidth<992){$menu.removeClass('show');}
window.addEventListener('scroll',function(){if(window.pageYOffset<=top&&window.innerWidth>=992){$menu.removeClass('show');}},{passive:true});$('.category-toggle').on("click",function(e){e.preventDefault();});$menu.on("mouseover",function(e){if($menu.hasClass('menu-fixed')&&window.pageYOffset>top&&window.innerWidth>=992){$menu.addClass('show');}else if(!$menu.hasClass('menu-fixed')&&window.innerWidth>=992){$menu.addClass('show');}})
$menu.on("mouseleave",function(e){if($menu.hasClass('menu-fixed')&&window.pageYOffset>top&&window.innerWidth>=992){$menu.removeClass('show');}else if(!$menu.hasClass('menu-fixed')&&window.innerWidth>=992){$menu.removeClass('show');}})}
if($menu.hasClass('with-sidebar')){var sidebar=Trabna.byClass('sidebar');if(sidebar.length){$menu.find('.dropdown-box').css('width',sidebar[0].offsetWidth-20);Trabna.$window.on('resize',function(){$menu.find('.dropdown-box').css('width',(sidebar[0].offsetWidth-20));});}}}},initMobileMenu:function(){$('.mobile-menu li, .toggle-menu li').each(function(){if(this.lastElementChild&&(this.lastElementChild.tagName==='UL'||this.lastElementChild.classList.contains('megamenu'))){var span=document.createElement('span');span.className="toggle-btn";this.firstElementChild.appendChild(span);}});$('.mobile-menu-toggle').on('click',showMobileMenu);$('.mobile-menu-overlay').on('click',hideMobileMenu);$('.mobile-menu-close').on('click',hideMobileMenu);Trabna.$window.on('resize',hideMobileMenu);},initFilterMenu:function(){$('.search-ul li').each(function(){if(this.lastElementChild&&this.lastElementChild.tagName==='UL'){var i=document.createElement('i');i.className="la la-angle-down";this.classList.add('with-ul');this.firstElementChild.appendChild(i);}});$('.with-ul > a i, .toggle-btn').on('click',function(e){var $this=$(this);$(this).parent().next().slideToggle(300).parent().toggleClass("show");e.preventDefault();});},initCollapsibleWidget:function(){$('.widget-collapsible .widget-title').each(function(){var span=document.createElement('span');span.className='toggle-btn';this.appendChild(span);});$('.widget-collapsible .widget-title').on('click',function(e){var $this=$(this),$body=$this.siblings('.widget-body');$this.hasClass('collapsed')||$body.css('display','block');$body.stop().slideToggle(300);$this.toggleClass('collapsed');setTimeout(function(){$('.sticky-sidebar').trigger('recalc.pin');},300);});},initSubmenu:function(){$('.submenu-toggle-btn').on('click',function(e){$(this).parent().parent().toggleClass("show");e.preventDefault();});Trabna.$window.on('resize',function(){if(window.innerWidth>=1200){$('.submenu-toggle-btn').parent().parent().removeClass('show');}});}}
Trabna.menu=Menu;})(jQuery);(function($){function Slider($el,options){return this.init($el,options);}
var onInitialize=function(e){var wrapperEl=this.wrapperEl;var cls=wrapperEl.getAttribute('class');var match=cls.match(/row|gutter\-\w\w|cols\-\d|cols\-\w\w-\d/g);if(match){wrapperEl.setAttribute('class',cls.replace(/row|gutter\-\w\w|cols\-\d|cols\-\w\w-\d/g,'').replace(/\s+/,' '));}
if(wrapperEl.classList.contains("animation-slider")){var els=wrapperEl.children,len=els.length;for(var i=0;i<len;++i){els[i].setAttribute('data-index',i+1);}}}
var onInitialized=function(e){var els=this.firstElementChild.firstElementChild.children,i,len=els.length;for(i=0;i<len;++i){if(!els[i].classList.contains('active')){var animates=Trabna.byClass('appear-animate',els[i]),j;for(j=animates.length-1;j>=0;--j){animates[j].classList.remove('appear-animate');}}}}
var onTranslated=function(e){$(window).trigger('appear.check');var $el=$(e.currentTarget),$activeVideos=$el.find('.swiper-slide.active video');$el.find('.swiper-slide:not(.swiper-slide-active) video').each(function(){if(!this.paused){$el.trigger('autoplayStart');}
this.pause();this.currentTime=0;});if($activeVideos.length){if(true===$el.data('slider').options.autoplay){$el.trigger('autoplayStop');}
$activeVideos.each(function(){this.paused&&this.play();});}}
var onSliderInitialized=function(){var self=this,$el=$(this.wrapperEl);$el.find('.swiper-slide-active .slide-animate').each(function(){var $animation_item=$(this),settings=$.extend(true,{},Trabna.animationOptions,Trabna.parseOptions($animation_item.data('animation-options'))),duration=settings.duration,delay=settings.delay,aniName=settings.name;setTimeout(function(){$animation_item.css('animation-duration',duration);$animation_item.css('animation-delay',delay);$animation_item.addClass(aniName);if($animation_item.hasClass('maskLeft')){$animation_item.css('width','fit-content');var width=$animation_item.width();$animation_item.css('width',0).css('transition','width '+(duration?duration:'0.75s')+' linear '+(delay?delay:'0s'));$animation_item.css('width',width);}
duration=duration?duration:'0.75s';var temp=Trabna.requestTimeout(function(){$animation_item.addClass('show-content');},(delay?Number((delay).slice(0,-1))*1000+200:200));self.timers.push(temp);},300);});}
var onSliderResized=function(e){$(this.wrapperEl).find('.swiper-slide-active .slide-animate').each(function(){var $animation_item=$(this);$animation_item.addClass('show-content');$animation_item.attr('style','');});}
var onSliderTranslate=function(e){var self=this,$el=$(this.wrapperEl);self.translateFlag=1;self.prev=self.next;$el.find('.swiper-slide .slide-animate').each(function(){var $animation_item=$(this),settings=$.extend(true,{},Trabna.animationOptions,Trabna.parseOptions($animation_item.data('animation-options')));$animation_item.removeClass(settings.name);});}
var onSliderTranslated=function(e){var self=this,$el=$(this.wrapperEl);if(1==self.translateFlag){self.next=this.slider.activeIndex;$el.find('.show-content').removeClass('show-content');if(self.prev!=self.next){$el.find('.show-content').removeClass('show-content');if($el.hasClass("animation-slider")){for(var i=0;i<self.timers.length;i++){Trabna.deleteTimeout(self.timers[i]);}
self.timers=[];}
$el.find('.swiper-slide-active .slide-animate').each(function(){var $animation_item=$(this),settings=$.extend(true,{},Trabna.animationOptions,Trabna.parseOptions($animation_item.data('animation-options'))),duration=settings.duration,delay=settings.delay,aniName=settings.name;$animation_item.css('animation-duration',duration);$animation_item.css('animation-delay',delay);$animation_item.css('transition-property','visibility, opacity');$animation_item.css('transition-delay',delay);$animation_item.css('transition-duration',duration);$animation_item.addClass(aniName);duration=duration?duration:'0.75s';var temp=Trabna.requestTimeout(function(){$animation_item.css('transition-property','');$animation_item.css('transition-delay','');$animation_item.css('transition-duration','');$animation_item.addClass('show-content');self.timers.splice(self.timers.indexOf(temp),1)},(delay?Number((delay).slice(0,-1))*1000+Number((duration).slice(0,-1))*500:Number((duration).slice(0,-1))*500));self.timers.push(temp);});}else{$el.find('.swiper-slide').eq(this.slider.activeIndex).find('.slide-animate').addClass('show-content');}
self.translateFlag=0;}}
Slider.defaults={slidesPerView:1,speed:300}
Slider.presets={'product-thumbs-wrap':{slidesPerView:4,spaceBetween:10,freeMode:true,watchSlidesVisibility:true,watchSlidesProgress:true,freeModeSticky:true}}
Slider.prototype.init=function($el,options){this.timers=[];this.translateFlag=0;this.prev=0;this.next=0;this.container=$el[0];this.wrapperEl=$el.children()[0];var $navigationNext=$el.children('.swiper-button-next'),$navigationPrev=$el.children('.swiper-button-prev'),$pagination=$el.children('.swiper-pagination'),$dotscontainer=$el.children('.custom-dots');if($el.data('slider')){return;}
Trabna.lazyLoad($el,true);var classes=$el.attr('class').split(' '),settings=$.extend(true,{},Slider.defaults);classes.forEach(function(className){var preset=Slider.presets[className];preset&&$.extend(true,settings,preset);});$navigationNext.length&&$.extend(true,settings,{navigation:{nextEl:$navigationNext[0]}});$navigationPrev.length&&$.extend(true,settings,{navigation:{prevEl:$navigationPrev[0]}});$pagination.length&&$.extend(true,settings,{pagination:{el:$pagination[0],clickable:true}});var $videos=$el.find('video');$videos.each(function(){this.loop=false;});$.extend(true,settings,Trabna.parseOptions($el.attr('data-swiper-options')),options);onInitialize.call(this);this.slider=new Swiper(this.container,settings);$el.data('slider',this.slider);$el.trigger('initialized.slider',this.slider);this.slider.on('afterInit',onInitialized).on('transitionEnd',onTranslated);if($el.hasClass('animation-slider')){onSliderInitialized.call(this);}
$el.hasClass('animation-slider')&&this.slider.on('resize',onSliderResized).on('transitionStart',onSliderTranslate.bind(this)).on('transitionEnd',onSliderTranslated.bind(this));if($dotscontainer.length){this.slider.on('transitionEnd',function(){var curIndex=this.activeIndex;$dotscontainer.children('a:nth-child('+(++curIndex)+')').addClass('active').siblings().removeClass('active');});$dotscontainer.children('a').on('click',function(e){e.preventDefault();var $this=$(this);if(!$this.hasClass('active')){var index=$this.index(),$slider=$this.closest('.swiper-container').data('slider');$slider.slideTo(index);$this.addClass('active').siblings().removeClass('active');}});}}
Trabna.slider=function(selector,options={},createDirectly=false){Trabna.$(selector).each(function(){var $this=$(this);createDirectly?new Slider($this,options):Trabna.call(function(){new Slider($this,options);});});}
Trabna.slider.pgToggle=function(){$(".swiper-container:not([class*='pg-']) .swiper-pagination").each(function(){var $this=$(this);if($this.find('*').length<=1)
$this.css('display','none');else
$this.css('display','block');});}})(jQuery);(function($){'use strict';function Sidebar(name){return this.init(name);}
var onResizeNavigationStyle=function(){if(window.innerWidth<992){this.$sidebar.find('.sidebar-content').removeAttr('style');this.$sidebar.find('.sidebar-content').attr('style','');this.$sidebar.find('.toolbox').children(':not(:first-child)').removeAttr('style');}}
Sidebar.prototype.init=function(name){var self=this;self.name=name;self.$sidebar=$('.'+name);self.isNavigation=false;if(self.$sidebar.length){self.isNavigation=self.$sidebar.hasClass('sidebar-fixed')&&self.$sidebar.parent().hasClass('toolbox-wrap');if(self.isNavigation){onResizeNavigationStyle=onResizeNavigationStyle.bind(this);Trabna.$window.on('resize',onResizeNavigationStyle);}
Trabna.$window.on('resize',function(e){if(Trabna.windowResized(e.timeStamp)){Trabna.$body.removeClass(name+'-active');}});self.$sidebar.find('.sidebar-toggle, .sidebar-toggle-btn').add(name==='sidebar'?'.left-sidebar-toggle':'.'+name+'-toggle').on('click',function(e){self.toggle();$(this).blur();e.preventDefault();});self.$sidebar.find('.sidebar-overlay, .sidebar-close').on('click',function(e){Trabna.$body.removeClass(name+'-active');e.preventDefault();});}
return false;}
Sidebar.prototype.toggle=function(){var self=this;var minwidth=992;if(self.$sidebar.hasClass('sidebar-switch-xl')){minwidth=1200;}
if(window.innerWidth>=minwidth&&self.$sidebar.hasClass('sidebar-fixed')){var isClosed=self.$sidebar.hasClass('closed');if(self.isNavigation){isClosed||self.$sidebar.find('.filter-clean').hide();self.$sidebar.siblings('.toolbox').children(':not(:first-child)').fadeToggle('fast');self.$sidebar.find('.sidebar-content').stop().animate({'height':'toggle','margin-bottom':isClosed?'toggle':-6},function(){$(this).css('margin-bottom','');isClosed&&self.$sidebar.find('.filter-clean').fadeIn('fast');});}
if(self.$sidebar.hasClass('shop-sidebar')){var $wrapper=$('.main-content .product-wrapper');if($wrapper.length){if($wrapper.hasClass('product-lists')){$wrapper.toggleClass('row cols-xl-2',!isClosed);}else{}}}}else{self.$sidebar.find('.sidebar-overlay .sidebar-close').css('margin-left',-(window.innerWidth-document.body.clientWidth));Trabna.$body.toggleClass(self.name+'-active').removeClass('closed');}
setTimeout(function(){$(window).trigger('appear.check');},400);}
Trabna.sidebar=function(name){return new Sidebar().init(name);}})(jQuery);(function($){var initWishlistAction=function(){Trabna.$body.on('click','.product .btn-wishlist',function(e){e.preventDefault();var $this=$(this);var $cmpx=localStorage.getObjet('wish')||[];var DATA=$this.parents('.product').data();if($this.hasClass('added')){$cmpx.splice($cmpx.findIndex((e)=>e.id==DATA.ID),1);}else{if($cmpx.filter((e)=>e.url==DATA.url).length==0){$cmpx.push({id:DATA.id});}}
if($cmpx.length>=10){$cmpx.shift();}
$this.toggleClass('added').addClass('load-more-overlay loading');setTimeout(function(){$this.removeClass('load-more-overlay loading');$this.toggleClass('w-icon-heart').toggleClass('w-icon-heart-full');},500);localStorage.setObjet('wish',$cmpx);});}
var initCompare=function(){var products=[],$compare=$('.page-wrapper > .compare-popup'),productCount,addToProduct,removeProduct,removeAllProduct;function initComparePopup(){if(!$compare.length&&!document.body.classList.contains('docs')){$('.page-wrapper').append(COMPARE_HTML);$compare=$('.page-wrapper > .compare-popup');}}
function addToCompare(e){var $this=$(this);var DATA=$this.parents('.product').data();addToProduct=false;if($this.hasClass('added')){return;}
e.preventDefault();$this.toggleClass('added').addClass('load-more-overlay loading');var $cmpx=localStorage.getObjet('cmp')||[];if($cmpx.filter((e)=>e.url==DATA.url).length==0){$cmpx.push({id:DATA.id,url:DATA.url,src:DATA.src,nom:DATA.nom});}
if($cmpx.length>=5){$cmpx.shift();}
$('.compare-popup li').each(function(i){if(e=$cmpx[i]){this.innerHTML='<a href="'+e.url+'"><figure><img src="'+ASSETS_PRODUCT+'/'+e.src+'"/></figure></a>\<a href="#" data-id="'+e.id+'" class="btn btn-remove"><i class="w-icon-times-solid"></i></a>';}else{this.innerHTML='';}});productCount=$cmpx.length;$this.removeClass('load-more-overlay loading');$this.toggleClass('w-icon-compare').toggleClass('w-icon-check-solid');$compare.addClass('show');localStorage.setObjet('cmp',$cmpx);compareCount();}
function removeCompare(e){e.preventDefault();var $cmpx=localStorage.getObjet('cmp')||[];var $li=$(e.currentTarget).closest('li'),$index=$li.index(),srcCompare=$li.find('img').attr('src');if(srcCompare){$('.page-wrapper .product img').each(function(){var srcProduct=this.getAttribute('src');if(srcProduct==srcCompare){var $compareButton=$(this).closest('.product').find('.btn-compare');if($compareButton.length){$compareButton.removeClass('added').attr('href','#');$compareButton.toggleClass('w-icon-check-solid').toggleClass('w-icon-compare');}}})}
$cmpx.splice($index,1);if($index==3){$li.empty();}
$li.nextAll().each(function(){$(this).prev().html($(this).html());}).last().empty();productCount=$cmpx.length;localStorage.setObjet('cmp',$cmpx);compareCount();}
function removeAllCompare(e){e.preventDefault();removeAllProduct=false;$('.page-wrapper .product img').each(function(){var $this=$(this);var srcProduct=this.getAttribute('src');products.forEach(function(srcCompare){if(srcProduct==srcCompare){var $compareButton=$this.closest('.product').find('.btn-compare');if($compareButton.length){$compareButton.removeClass('added').attr('href','#');$compareButton.toggleClass('w-icon-check-solid').toggleClass('w-icon-compare');}}});})
products.splice(0,4);productCount=products.length;$(this).parent().find('.compare-product-list li').empty();localStorage.setObjet('cmp',[]);compareCount();}
function compareCount(){$compare.find('.title').after('<p class="compare-count text-center text-light mb-0">('+productCount+' Products)</p>');if($compare.find('.compare-count').length>1){$compare.find('p:last-child').remove();}}
initComparePopup();Trabna.$body.on('click','.product .btn-compare',addToCompare).on('click','.compare-popup .btn-remove',removeCompare).on('click','.compare-popup .btn-clean',removeAllCompare)
Trabna.$body.on('click','.compare-popup-overlay',function(){$compare.removeClass('show');});}
var Shop={init:function(){Trabna.call(Trabna.ratingTooltip,500);Trabna.call(Trabna.setProgressBar('.progress-bar'),500);this.initVariation();this.initProductsScrollLoad('.scroll-load');initWishlistAction();initCompare();Trabna.priceSlider('.filter-price-slider');},initVariation:function(type){$('.product:not(.product-single) .product-variations > a').on('click',function(e){var $this=$(this),$image=$this.closest('.product').find('.product-media img');if(!$image.data('image-src'))
$image.data('image-src',$image.attr('src'));$this.toggleClass('active').siblings().removeClass('active');if($this.hasClass('active')){$image.attr('src',$this.data('src'));}else{$image.attr('src',$image.data('image-src'));$this.blur();}
e.preventDefault();})},initProductsScrollLoad:function($obj){var $wrapper=Trabna.$($obj),top;var url=$($obj).data('url');if(!url){url='assets/ajax/products.html';}
var loadProducts=function(e){if(window.pageYOffset>top+$wrapper.outerHeight()-window.innerHeight-150&&'loading'!=$wrapper.data('load-state')){$.ajax({url:url,success:function(result){var $newItems=$(result);$wrapper.data('load-state','loading');if(!$wrapper.next().hasClass('load-more-overlay')){$('<div class="mt-4 mb-4 load-more-overlay loading"></div>').insertAfter($wrapper);}else{$wrapper.next().addClass('loading');}
setTimeout(function(){$wrapper.next().removeClass('loading');$wrapper.append($newItems);setTimeout(function(){$wrapper.find('.product-wrap.fade:not(.in)').addClass('in');},200);$wrapper.data('load-state','loaded');Trabna.countDown($newItems.find('.product-countdown'));},500);var loadCount=parseInt($wrapper.data('load-count')?$wrapper.data('load-count'):0);$wrapper.data('load-count',++loadCount);loadCount>2&&window.removeEventListener('scroll',loadProducts,{passive:true});},failure:function(){$this.text("Sorry something went wrong.");}});}}
if($wrapper.length>0){top=$wrapper.offset().top;window.addEventListener('scroll',loadProducts,{passive:true});}}}
Trabna.shop=Shop;})(jQuery);(function($){'use strict';function Popup(options,preset){return this.init(options,preset);}
Popup.defaults={removalDelay:300,closeOnBgClick:false,callbacks:{open:function(){$('html').css('overflow-y','hidden');$('body').css('overflow-x','visible');$('.mfp-wrap').css('overflow','hidden auto');$('.sticky-header.fixed').css('padding-right',window.innerWidth-document.body.clientWidth);},close:function(){$('html').css('overflow-y','');$('body').css('overflow-x','hidden');$('.mfp-wrap').css('overflow','');$('.sticky-header.fixed').css('padding-right','');}}}
Popup.presets={'quickview':{type:'inline',mainClass:'mfp-product mfp-fade',tLoading:'Loading...'},'video':{type:'iframe',mainClass:"mfp-fade",preloader:false,closeBtnInside:false},'login':{type:'ajax',mainClass:"mfp-login-popup mfp-fade ",tLoading:'',preloader:false}}
Popup.prototype.init=function(options,preset){var mpIns=$.magnificPopup.instance;if(mpIns.isOpen){if(mpIns.content){setTimeout(function(){Trabna.popup(options,preset);},5000);}else{$.magnificPopup.close();}}else{$.extend(true,{},Popup.defaults,preset?Popup.presets[preset]:{},options)
$.magnificPopup.open($.extend(true,{},Popup.defaults,preset?Popup.presets[preset]:{},options));}
function closePopupByBgClick(e){if(!$(e.target).closest('.mfp-content').length||$(e.target).hasClass('mfp-content')){$.magnificPopup.instance.close();}
else{mpIns.st.closeOnBgClick=false;mpIns.st.closeOnBgContentClick=false;}}
Trabna.$body.on('mousedown','.mfp-wrap',closePopupByBgClick);if('ontouchstart'in document){document.addEventListener('touchstart',closePopupByBgClick,{passive:true});}}
Trabna.popup=function(options,preset){return new Popup(options,preset);}})(jQuery);(function($){function ProductSingle($el){return this.init($el);}
var thumbsInit=function(self){self.$thumbs=self.$wrapper.find('.product-thumbs');self.$thumbsWrap=self.$thumbs.parent();self.$thumbUp=self.$thumbsWrap.find('.thumb-up');self.$thumbDown=self.$thumbsWrap.find('.thumb-down');self.$thumbsDots=self.$thumbs.children();self.thumbsCount=self.$thumbsDots.length;self.$productThumb=self.$thumbsDots.eq(0);self._isPgVertical=self.$thumbsWrap.parent().hasClass('product-gallery-vertical');self.thumbsIsVertical=self._isPgVertical&&window.innerWidth>=992;Trabna.slider(self.$thumbsWrap,{},true);}
var variationInit=function(self){self.$selects=self.$wrapper.find('.product-variations select');self.$items=self.$wrapper.find('.product-variations');self.$priceWrap=self.$wrapper.find('.product-variation-price');self.$clean=self.$wrapper.find('.product-variation-clean'),self.$btnCart=self.$wrapper.find('.btn-cart');self.$items.children('a').on('click',function(e){$(this).toggleClass('active').siblings().removeClass('active');e.preventDefault();if(self.$items.parent('.product-image-swatch')){self.swatchImage();}});self.$clean.on('click',function(e){e.preventDefault();self.variationClean(true);});}
var recalcDetailsHeight=function(){var self=this;self.$wrapper.find('.product-details').css('height',window.innerWidth>767?self.$wrapper.find('.product-gallery')[0].clientHeight:'');}
var goToReviewPan=function(e){e.preventDefault();Trabna.scrollTo($('.product-tabs > .nav a[href="'+this.getAttribute('href')+'"]').trigger('click'));}
ProductSingle.prototype.init=function($el){var self=this,$slider=$el.find('.product-single-swiper');self.$wrapper=$el;self.isQuickView=!!$el.closest('.mfp-content').length;self._isPgVertical=false;thumbsInit(self);self.$wrapper.on('click','.rating-reviews',goToReviewPan);if('complete'===Trabna.status){Trabna.slider($slider,{thumbs:{swiper:self.$thumbsWrap.data('slider')}});}
if($slider.length){window.addEventListener('resize',function(){Trabna.requestTimeout(function(){if($slider.data('slider')!=undefined){$slider.data('slider').update();self.$thumbsWrap.data('slider').update();}},100)},{passive:true});}
self.$wrapper.find('.product-single-swiper').on('initialized.slider',function(e){if($.fn.zoom){$(e.target).find('.product-image').zoom(Trabna.zoomImageOptions);};})
if(self.$wrapper.find('.product-thumbs-sticky').length){self.isStickyScrolling=false;self.$wrapper.on('click','.product-thumb:not(.active)',self.clickStickyThumbnail.bind(this));window.addEventListener('scroll',self.scrollStickyThumbnail.bind(this),{passive:true});}
variationInit(this);}
ProductSingle.prototype.variationMatch=function(){var self=this;self.$priceWrap.find('span').text('$'+(Math.round(Math.random()*50)+200)+'.00');self.$priceWrap.slideDown();self.$clean.slideDown();self.$btnCart.removeClass('disabled');}
ProductSingle.prototype.variationClean=function(reset){reset&&this.$selects.val('');reset&&this.$items.children('.active').removeClass('active');this.$priceWrap.slideUp();this.$clean.css('display','none');}
ProductSingle.prototype.clickStickyThumbnail=function(e){var self=this;var $thumb=$(e.currentTarget);var currentIndex=$thumb.parent().children('.active').index();var newIndex=$thumb.index()+1;$thumb.addClass('active').siblings('.active').removeClass('active');this.isStickyScrolling=true;var target=$thumb.closest('.product-thumbs-sticky').find('.product-image-wrapper > :nth-child('+newIndex+')');if(target.length){target=target.offset().top+10;Trabna.scrollTo(target,500);}
setTimeout(function(){self.isStickyScrolling=false;},300);}
ProductSingle.prototype.scrollStickyThumbnail=function(){var self=this;if(!this.isStickyScrolling){self.$wrapper.find('.product-image-wrapper .product-image').each(function(){if(Trabna.isOnScreen(this)){self.$wrapper.find('.product-thumbs > :nth-child('+($(this).index()+1)+')').addClass('active').siblings().removeClass('active');return false;}});}}
ProductSingle.prototype.swatchImage=function(){var src=this.$items.find('.active img').attr('src'),productImage=this.$wrapper.find('.swiper-slide:first-child .product-image img'),thumbImage=this.$wrapper.find('.swiper-slide:first-child .product-thumb img');productImage.attr('src',src);thumbImage.attr('src',src);}
Trabna.productSingle=function(selector){Trabna.$(selector).each(function(){var $this=$(this);if(!$this.is('body > *')){$this.data('product-single',new ProductSingle($this));}})
return null;}})(jQuery);(function($){function openImageGallery(e){console.log("openImageGallery")
e.preventDefault();var $this=$(e.currentTarget),$product=$this.closest('.product-single'),$review=$this.closest('.review-image'),$images,images;if($this.closest('.review-image').length){$images=$this.closest('.review-image').find('img');}else if($product.find('.product-single-swiper').length){$images=$product.find('.product-single-swiper .swiper-slide:not(.cloned) img:first-child');}else if($product.find('.product-gallery-carousel').length){$images=$product.find('.product-gallery-carousel .swiper-slide:not(.cloned) img');}else{$images=$product.find('.product-image img:first-child');}
if($images.length){images=$images.map(function(){var $this=$(this);return{src:$this.attr('data-zoom-image'),w:800,h:900,title:$this.attr('alt')};}).get();var swiper=$product.find('.product-single-swiper').data('slider'),curIndex=swiper?swiper.activeIndex:$product.find('.product-gallery .product-gallery-btn').index($this);if($review.length==1){var reviewIndex=$review.find('img').index($this);curIndex=reviewIndex;}
if(typeof PhotoSwipe!=='undefined'){var pswpElement=$('.pswp')[0];if(Trabna.$body.attr('dir')=='rtl'){var photoSwipe=new PhotoSwipe(pswpElement,PhotoSwipeUI_Default,images,{index:curIndex,closeOnScroll:false,showAnimationDuration:0,rtl:true});}
else{var photoSwipe=new PhotoSwipe(pswpElement,PhotoSwipeUI_Default,images,{index:curIndex,closeOnScroll:false,showAnimationDuration:0,});}
photoSwipe.init();Trabna.photoSwipe=photoSwipe;}}}
function stickyProduct(selector){var $this=$(selector),$product=$this.closest('.product-single'),src=$product.find('.product-image img').eq(0).attr('src'),name=$product.find('.product-details .product-title').text(),newPrice=$product.find('.new-price').text(),oldPrice=$product.find('.old-price').text(),stickyProductDetailsHtml='<div class="product product-list-sm mr-auto">\
                                        <figure class="product-media">\
                                        <img src="'+src+'" alt="Product" width="85" height="85" />\
                                        </figure>\
                                        <div class="product-details pt-0 pl-2 pr-2">\
                                        <h4 class="product-name font-weight-normal mb-1">'+name+'</h4>\
                                        <div class="product-price mb-0">\
                                        <ins class="new-price">'+newPrice+'</ins><del class="old-price">'+oldPrice+'</del></div>\
                                        </div></div>';$this.find('.product-qty-form').before(stickyProductDetailsHtml);function refreshStickyProduct(){if($this.hasClass('fix-top')&&window.innerWidth>767){$this.removeClass('fix-top').addClass('fix-bottom');}
if($this.hasClass('fix-bottom')&&window.innerWidth>767){return;}
if($this.hasClass('fix-bottom')&&window.innerWidth<768){$this.removeClass('fix-bottom').addClass('fix-top');}
if($this.hasClass('fix-top')&&window.innerWidth<768){return;}}
window.addEventListener('resize',refreshStickyProduct,{passive:true});refreshStickyProduct();}
Trabna.initProductSinglePage=function(){$('.product-gallery').each(function(){var $this=$(this),$images=$this.find('.product-image');$images.length&&$this.find('.swiper-container').length==0&&$images.zoom(Trabna.zoomImageOptions);var magnificPopupx=function(){var i=$("[data-lightbox]");if(i.length>0){if(void 0===$.fn.magnificPopup)
return INSPIRO.elements.notification("Warning","jQuery magnificPopup plugin is missing in plugins.js file.","danger"),!0;var e={image:{type:"image",closeOnContentClick:!0,removalDelay:500,image:{verticalFit:!0},callbacks:{beforeOpen:function(){this.st.image.markup=this.st.image.markup.replace("mfp-figure","mfp-figure mfp-with-anim"),this.st.mainClass="mfp-zoom-out"}}},gallery:{delegate:'a[data-lightbox="gallery-image"], a[data-lightbox="image"]',type:"image",image:{verticalFit:!0},gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]},removalDelay:500,callbacks:{beforeOpen:function(){this.st.image.markup=this.st.image.markup.replace("mfp-figure","mfp-figure mfp-with-anim"),this.st.mainClass="mfp-zoom-out"}}},iframe:{type:"iframe",removalDelay:500,callbacks:{beforeOpen:function(){this.st.image.markup=this.st.image.markup.replace("mfp-figure","mfp-figure mfp-with-anim"),this.st.mainClass="mfp-zoom-out"}}},ajax:{type:"ajax",removalDelay:500,callbacks:{ajaxContentAdded:function(t){INSPIRO.elements.functions()}}},inline:{type:"inline",removalDelay:500,closeBtnInside:!0,midClick:!0,callbacks:{beforeOpen:function(){this.st.image.markup=this.st.image.markup.replace("mfp-figure","mfp-figure mfp-with-anim"),this.st.mainClass="mfp-zoom-out"},open:function(){$(this.content).find("video").length>0&&$(this.content).find("video").get(0).play()},close:function(){$(this.content).find("video").length>0&&$(this.content).find("video").ge$(0).load()}},fixedContentPos:!0,overflowY:"scroll"}};i.each(function(){var i=$(this);switch(i.attr("data-lightbox")){case"image":i.magnificPopup(e.image);break;case"gallery":i.magnificPopup(e.gallery);break;case"iframe":i.magnificPopup(e.iframe);break;case"ajax":i.magnificPopup(e.ajax);break;case"inline":i.magnificPopup(e.inline)}})}}
magnificPopupx()});stickyProduct('.product-sticky-content')
if(!document.body.classList.contains('home')){Trabna.$body.on('click','.product-image-full',openImageGallery).on('click','.review-image img',openImageGallery)}}})(jQuery);(function($){Trabna.initCodePopup=function(){$('.box-btn.showcode span').each(function(){$(this).text('</>');});$('.show-code-action').each(function(){var $this=$(this);var tempCode=$this[0].outerHTML.replace('show-code-action',''),deleteEnd=tempCode.slice(1,tempCode.length-1).indexOf("<"),deleteFirst=tempCode.indexOf(">"),strTemp,code;if(deleteEnd-deleteFirst>6){strTemp=new RegExp('\n'+String(' ').repeat(deleteEnd-deleteFirst-6),'gi');code=tempCode.replace(strTemp,'\n');}
else{code=tempCode;}
$this.data('codepopup',code);});Trabna.$body.on('click','.box-btn.showcode',function(){var $this=$(this);if($this.hasClass('enabled')){$this.removeClass('enabled').addClass('disabled');$this.children('p')[0].innerHTML='Show Code: Disabled';$('.show-code-action').each(function(){var $wrapper=$(this);$wrapper.removeClass('show-code-added');setTimeout(function(){$wrapper[0].removeChild($wrapper[0].lastElementChild);},300);});}
else{$this.removeClass('disabled').addClass('enabled');$this.children('p')[0].innerHTML='Show Code: Enabled';$('.show-code-action').each(function(){var $this=$(this);var showCode=document.createElement('span');showCode.className='show-code';showCode.appendChild(document.createTextNode('</>'));this.appendChild(showCode);setTimeout(function(){$this.addClass('show-code-added')},200);});}});Trabna.$body.on('click','.show-code',function(e){e.stopPropagation();var $wrapper=$(this).parent();if($wrapper.hasClass('show-code-added')){var btnCopy=$wrapper[0].lastElementChild;$wrapper[0].removeChild(btnCopy);$('.code-popup #textareaCode').text($wrapper.data('codepopup'));$('.code-copy a').html('<i class="copy-icon far fa-copy"></i>Copy to Clipboard');Trabna.$body.on('click','.code-copy a',function(e){e.preventDefault();$('.code-popup #textareaCode').trigger('select');document.execCommand('copy');$(this).html('<i class="copy-icon far fa-copy"></i>Copied');});setTimeout(function(){Trabna.popup({items:{src:".code-popup"},type:'inline',tLoading:'',mainClass:'mfp-code mfp-fadein-popup'});$('.CodeMirror').remove();CodeMirror.fromTextArea(document.getElementById('textareaCode'),{mode:'text/html',htmlMode:true,lineWrapping:false,smartIndent:false,spellcheck:true,addModeClass:true,readOnly:true});},100);$wrapper[0].appendChild(btnCopy);}});Trabna.$body.on('mouseenter mouseleave','.show-code-action',function(e){e.stopPropagation();});}})(jQuery);(function($){function Calendar(el,options){return this.init(el,options);}
var updateHeader=function(date){var self=this;var mt=self.settings.months[date.getMonth()];mt+=self.settings.displayYear?' '+date.getFullYear():'';self.element.find('.calendar-title').html(mt);}
Calendar.defaultOptions={months:['January','February','March','April','May','June','July','August','September','October','November','December'],days:['sunday','monday','tuesday','wednesday','thursday','friday','saturday'],displayYear:true,fixedStartDay:true,dayNumber:0,dayExcerpt:3,}
Calendar.prototype.init=function($el,options){var self=this;self.element=$el;self.settings=$.extend({},true,Calendar.defaultOptions,Trabna.parseOptions($el.attr('data-calendar-options')),options);self.today=new Date();updateHeader=updateHeader.bind(this);var $calendar=$('<div class="calendar"></div>'),$header=$('<div class="calendar-header">'+'<a href="#" class="btn-calendar btn-calendar-prev"><i class="la la-angle-left"></i></a>'+'<span class="calendar-title"></span>'+'<a href="#" class="btn-calendar btn-calendar-next"><i class="la la-angle-right"></i></a>'+'</div>');$calendar.append($header);$el.append($calendar);updateHeader(self.today);self.render(self.today,$calendar);self.bindEvents();}
Calendar.prototype.render=function(fd,$calendar){var self=this;$calendar.find('table')&&$calendar.find('table').remove();var $table=$('<table></table>'),$thead=$('<thead></thead>'),$tbody=$('<tbody></tbody'),y=fd.getFullYear(),m=fd.getMonth();var firstDay=new Date(y,m,1),lastDay=new Date(y,m+1,0),startDayOfWeek=firstDay.getDay();if(self.settings.fixedStartDay){startDayOfWeek=self.settings.dayNumber;while(firstDay.getDay()!=startDayOfWeek){firstDay.setDate(firstDay.getDate()-1);}
while(lastDay.getDay()!=(startDayOfWeek+7)%7){lastDay.setDate(lastDay.getDate()+1);}}
for(var i=startDayOfWeek;i<startDayOfWeek+7;i++){var th=$('<th>'+self.settings.days[i%7].substring(0,self.settings.dayExcerpt)+'</th>');i%7==0&&th.addClass('holiday');$thead.append(th);}
for(var day=firstDay;day<lastDay;day.setDate(day.getDate())){var tr=$('<tr></tr>');for(var i=0;i<7;i++){var td=$('<td><span class="day" data-date="'+day.toISOString()+'">'+day.getDate()+'</span></td>');(day.toDateString()==(new Date).toDateString())&&td.find('.day').addClass('today');(day.getMonth()!=fd.getMonth())&&td.find('.day').addClass('disabled');tr.append(td);day.setDate(day.getDate()+1);}
$tbody.append(tr);};$table.append($thead);$table.append($tbody);$calendar.append($table);}
Calendar.prototype.changeMonth=function(dm){this.today.setMonth(this.today.getMonth()+dm,1);this.render(this.today,$(this.element).find('.calendar'));updateHeader(this.today);}
Calendar.prototype.bindEvents=function(){var self=this;$(self.element).find('.btn-calendar-prev').on('click',function(e){self.changeMonth(-1);e.preventDefault();});$(self.element).find('.btn-calendar-next').on('click',function(e){self.changeMonth(1);e.preventDefault();});}
Trabna.calendar=function(selector,options){Trabna.$(selector).each(function(){var $this=$(this);Trabna.call(function(){new Calendar($this,options);});});}
Trabna.initVendor=function(selector){var $this=$(selector),$btnSearchVendor=$this.closest('.page-content').find('.toolbox .vendor-search-toggle'),$phone=$this.find('.store-phone');$btnSearchVendor.on('click',function(e){var $searchWrapper=$btnSearchVendor.closest('.vendor-toolbox').next('.vendor-search-wrapper');if(!$searchWrapper.hasClass('open')){$searchWrapper.addClass('open').slideDown();}else{$searchWrapper.removeClass('open').slideUp();}
e.preventDefault();});$phone.on('click',function(){alert('Always open these types of links in the associated app');});}
Trabna.slideContent=function(selector){var $this=$(selector),$content=$this.next();$this.on('click',function(e){e.preventDefault();if(!$content.hasClass('open')){$content.addClass('open').slideDown();$this.find('.custom-checkbox').addClass('checked');}else{$content.removeClass('open').slideUp();$this.find('.custom-checkbox').removeClass('checked');}})}
Trabna.initLoginVendor=function(selector){var $this=$(selector),$LoginVendorPanel=$this.parent().find('.login-vendor'),$checkCustomer=$this.find('.check-customer'),$checkVendor=$this.find('.check-seller');$checkVendor.on('click',function(){$this.find('#check-seller').addClass('active');$this.find('#check-customer').removeClass('active');$LoginVendorPanel.slideDown();});$checkCustomer.on('click',function(){$this.find('#check-customer').addClass('active');$this.find('#check-seller').removeClass('active');$LoginVendorPanel.slideUp();});}})(jQuery);(function($){Trabna.initLayout=function(){Trabna.isotopes('.grid:not(.grid-float)');Trabna.stickySidebar('.sticky-sidebar');};Trabna.init=function(){Trabna.appearAnimate('.appear-animate');Trabna.setTab('.nav-tabs');Trabna.stickyContent('.sticky-header',{scrollMode:false,top:300});Trabna.stickyContent('.sticky-toolbox',Trabna.stickyToolboxOptions);Trabna.stickyContent('.product-sticky-content',Trabna.stickyProductOptions);Trabna.parallax('.parallax');Trabna.skrollrParallax();Trabna.initFloatingParallax();Trabna.menu.init();Trabna.initScrollTopButton();Trabna.shop.init();Trabna.alert('.alert')
Trabna.closeTopNotice('.banner-close');Trabna.accordion('.card-header > a')
Trabna.sidebar('sidebar');Trabna.sidebar('right-sidebar');Trabna.productSingle('.product-single');Trabna.initProductSinglePage();Trabna.initNavFilter('.nav-filters .nav-filter')
Trabna.calendar('.calendar-container');Trabna.initPopup();Trabna.initNotificationAlert();Trabna.countTo('.count-to');Trabna.initCartAction('.cart-offcanvas .cart-toggle,.openCartSidebar');Trabna.Minipopup.init();Trabna.headerToggleSearch('.hs-toggle');Trabna.initVendor('.store');Trabna.slideContent('.login-toggle');Trabna.slideContent('.coupon-toggle');Trabna.slideContent('.checkbox-toggle');Trabna.initLoginVendor('.user-checkbox');Trabna.initCodePopup();Trabna.slider('.swiper-container');Trabna.call(Trabna.slider.pgToggle);Trabna.$window.on('resize',function(){Trabna.call(Trabna.slider.pgToggle);});};})(jQuery);(function($){'use strict';window.onload=function(){Trabna.canvasWidth=window.innerWidth;Trabna.resizeTimeStamp=0;Trabna.resizeChanged=false;Trabna.status='loaded';$("#loader").hide();document.body.classList.add('loaded');Trabna.call(Trabna.initLayout);Trabna.call(Trabna.init);Trabna.status='complete';Trabna.$window.trigger('Trabna_complete');}})(jQuery);
